@model Form

@{
    ViewData["Title"] = "Форма ввода";
}

<head>
    <style>
        td {
            border: 1px solid gray;
            width: 200px;
        }

        input[type="text"], textarea {
            background-color: #d9e1f2;
            width: 100%;
        }
    </style>
    
</head>

@section Scripts
{
    
    <script src="jquery-3.6.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(function () {
                $(".saveButton").click(function () {
                    alert('Данные сохранены');
                });
            });

            $(function () {
                $(".showButton").click(function () {
                    var valueA = $("#valueA").val();
                    var valueB = $("#valueB").val();
                    var valueC = $("#valueC").val();
                    alert(valueA + valueB + valueC);
                });
            });

            $(function () {
                $(".fillButton").click(function () {
                    $('#valueA').val('5');
                    $('#valueB').val('6');
                    $('#valueC').val('7');
                });
            });

            var formTransfer = {
                ValueA: $("#valueA").val(),
                ValueB: $("#valueB").val(),
                ValueC: $("#valueC").val(),
                Discriminant: $("#discriminant").val(),
                FirstResult: $("#firstResult").val(),
                SecondResult: $("#secondResult").val()
            };
            
            $(function () {
                $(".postButton").click(function (){
                    $.ajax({
                        type: 'post',
                        url: 'home/postform',
                        data: JSON.stringify(formTransfer),
                        dataType: 'json',
                        contentType: 'application/json; charset=utf-8',
                        success: function (data) {
                            if (data.success == true) {
                                alert('Success');
                            }
                            else {
                                alert('Fault');
                            }
                        },
                        error: function () {
                            alert('Error');
                        }
                    });
                });
            });
        });

    </script>
}


<div class="text-center">
    <table>
        <tr>
            <td style="border:0px"></td>
            <td style="border:0px"><input type="button" class="saveButton" value="Сохранить" /></td>
            <td style="border:0px"><input type="button" class="postButton" value="Передать данные" /></td>
            <td style="border:0px"><input type="button" class="fillButton" value="Заполнить таблицу" /></td>
                <td style="border:0px"><input type="button" class="showButton" value="Показать значения" /></td>
        </tr>
    </table>

    <p></p>

    <table id="formTable">
        <thread>
            <tr align="left"><td>Индикатор</td><td>Значение</td></tr>
            <tr align="left">
                <td>@Model.ValueA.Title</td>
                <td><input type="text" id="valueA" value="@Model.ValueA.Value"/></td>
            </tr>
            <tr align="left">
                <td>@Model.ValueB.Title</td>
                    <td><input type="text" id="valueB" value="@Model.ValueB.Value" /></td>
            </tr>
            <tr align="left">
                <td>@Model.ValueC.Title</td>
                    <td><input type="text" id="valueC" value="@Model.ValueC.Value" /></td>
            </tr>
            <tr align="left">
                <td>@Model.Discriminant.Title</td>
                <td bgcolor="c6e0b4"><div id="discriminant">@Model.Discriminant.Value</div></td>
            </tr>
            <tr align="left">
                <td>@Model.FirstResult.Title</td>
                <td bgcolor="c6e0b4"><div id="firstResult">@Model.FirstResult.Value</div></td>
            </tr>
            <tr align="left">
                <td>@Model.SecondResult.Title</td>
                <td bgcolor="c6e0b4"><div id="secondResult">@Model.SecondResult.Value</div></td>
            </tr>
        </thread>
    </table>
</div>

